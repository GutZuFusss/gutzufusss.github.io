{"version":3,"sources":["openllm/util.cljs"],"mappings":";AAKA;;;;;;;;uCAAA,vCAAMA,sFAOHC;AAPH,AAQE,IAAMC,sBAAiB,WAAKC;AAAL,AACE,yDAAA,KAAA,vDAACC,0IACU,AAACC,eAAK,AAAA,mFAAOF,gBACb,AAAA,oFAAOA;;AAH3C,AAIE,yDAAA,lDAACC,uDAAc,AAACE,4CAAIJ,oBACAD","names":["openllm.util/chat-history->string","chat-history","entry->chat-line","current-entry","clojure.string.join","cljs.core/name","cljs.core.map"],"sourcesContent":["(ns openllm.util\n  \"A collection of utility functions used throughout the application.\n   All functions of this namespace must be pure.\"\n  (:require [clojure.string :as str]))\n\n(defn chat-history->string\n  \"Converts a chat history to a string representation. Basically, it joins\n   the user name and the text of each entry with a colon. The entries are\n   separated by a newline.\n   Useful for building a chat prompt or exporting the chat history to a\n   file.\n   Returns the chat history as a string.\"\n  [chat-history]\n  (let [entry->chat-line (fn [current-entry]\n                           (str/join \": \"\n                                     [(name (:user current-entry))\n                                      (:text current-entry)]))]\n    (str/join \"\\n\" (map entry->chat-line\n                        chat-history))))\n"]}