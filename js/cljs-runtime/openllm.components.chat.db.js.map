{"version":3,"sources":["openllm/components/chat/db.cljs"],"mappings":";AAQA,AAAA;;;;;;qCAAA,6CAAAA,lFAAMM;AAAN,AAAA,IAAAL,qBAAA;AAAA,AAAA,IAAAC,0BAAA,AAAA;AAAA,AAAA,IAAAC,wBAAA;;AAAA,AAAA,GAAA,CAAAA,wBAAAD;AAAA,AAAA,AAAAD,wBAAA,CAAA,UAAAE;;AAAA,eAAA,CAAAA,wBAAA;;;;AAAA;;;;AAAA,IAAAC,uBAAA,EAAA,CAAA,MAAA,AAAAH,4BAAA,AAAA,KAAAI,qBAAA,AAAAJ,yBAAA,KAAA,IAAA,OAAA;AAAA,AAAA,OAAAK,wEAAAF;;;AAAA,AAAA,CAAA,0EAAA,1EAAME,qFAKDI;AALL,AAME,oDAAA,mFAAA,sEAAA,tMAACC,0QAA+BD;;;AANlC,CAAA,6DAAA,7DAAMJ;;AAAN;AAAA,CAAA,uDAAA,WAAAC,lEAAMD;AAAN,AAAA,IAAAE,qBAAA;AAAA,AAAA,OAAAA,wDAAA,AAAAC,cAAAF;;;AAAA,AAYA,AAAAK,yBAAA,AAAA,iIAAA,AAAA,iFAA0BC;AAC1B,AAAAD,yBAAA,AAAA,yHAAA,AAAA,2rBAAsB,AAAAE,yDAAA,AAAA,8aAAW,AAAAE,8BAAA,wCAAA,yDAAA,wDAAA,kDAAA,iEAAA,8DAAA,6DAAA,8DAAA,mDAAA,4DAAA,+DAAA,gEAAA,qDAAA,AAAA,0SAAA,AAAA,KAAA,KAAA,mFAAA,WAAAC;AAAA,AAAA,OAAAC,qBAAAD;GAAA,WAAAA;AAAA,AAAA,OAAAE,0BAAAF,SAAA;GAAA,WAAAA;AAAA,AAAA,OAAAE,0BAAAF,SAAA;WAAA,WAAAA;AAAA,AAAA,SAAA,AAAAC,qBAAAD,eAAA,EAAA,AAAAE,0BAAAF,SAAA,2DAAA,AAAAE,0BAAAF,SAAA;m3DAAX,2CAAA,8FAAA,KAAA,6EAAA,6FAAA,AAAA,iFAAA,0FAAA,AAAA,2rBAAA,oFAAA,WAAAF,7mGAAW,AAAA,iCAAA,AAAA,0SAAA,AAAA,KAAA,AAAA,sMAAA,AAAA,iCAAA,AAAA,izCAAA,AAAA,2MACMK;AADjB,AAAA,+BAAAL,xBACiBK;WADjB;AAEtB,AAAAR,yBAAA,AAAA,qIAAA,AAAA,kFAA4BS;AAC5B,AAAAT,yBAAA,AAAA,0HAAA,AAAA,iFAAuBC;AAEvB,AAAAD,yBAAA,AAAA,6GAAA,AAAA,mvBAAiB,AAAAI,8BAAA,wCAAA,yDAAA,wDAAA,kDAAA,iEAAA,8DAAA,6DAAA,8DAAA,mDAAA,4DAAA,+DAAA,gEAAA,qDAAA,AAAA,olBAAA,AAAA,KAAA,KAAA,mFAAA,WAAAM;AAAA,AAAA,OAAAJ,qBAAAI;GAAA,WAAAA;AAAA,AAAA,OAAAH,0BAAAG,SAAA;GAAA,WAAAA;AAAA,AAAA,OAAAH,0BAAAG,SAAA;GAAA,WAAAA;AAAA,AAAA,OAAAH,0BAAAG,SAAA;GAAA,WAAAA;AAAA,AAAA,OAAAH,0BAAAG,SAAA;WAAA,WAAAA;AAAA,AAAA,SAAA,AAAAJ,qBAAAI,eAAA,EAAA,AAAAH,0BAAAG,SAAA,kFAAA,EAAA,AAAAH,0BAAAG,SAAA,0EAAA,EAAA,AAAAH,0BAAAG,SAAA,uFAAA,AAAAH,0BAAAG,SAAA;GAAA,AAAA,iCAAA,AAAA,olBAAA,AAAA,KAAA,AAAA,mYAAA,AAAA,iCAAA,AAAA,suEAAA,AAAA;AAKjB;;;wCAAA,xCAAMC;AAAN,AAAA,kDAAA,4EAAA,GAAA,oEAAA,iCAAA,uEAAA,GAAA,iFAAA;;AAWA","names":["var_args","args__5775__auto__","len__5769__auto__","i__5770__auto__","argseq__5776__auto__","cljs.core/IndexedSeq","openllm.components.chat.db/key-seq","seq36060","self__5755__auto__","cljs.core/seq","more-keys","cljs.core.into","cljs.spec.alpha/def-impl","cljs.core/string?","cljs.spec.alpha.every_impl","G__36062","cljs.spec.alpha/map-spec-impl","G__36064","cljs.core/map?","cljs.core/contains?","cljs.core/vector?","cljs.core/boolean?","G__36219","openllm.components.chat.db/initial-db"],"sourcesContent":["(ns openllm.components.chat.db\n  \"The branch of the `app-db` that saves data related to the chat view. This\n   includes the chat history, the current input value, and the layout of the\n   prompt.\n   The path to this branch can be expressed as:\n   *root -> components -> chat*\"\n  (:require [cljs.spec.alpha :as s]))\n\n(defn key-seq\n  \"Returns the key sequence to access the chat-db. This is useful for\n   `assoc-in` and `get-in`. The `more-keys` argument is optional and can be\n   used to access a sub-key of the chat-db.\n   Returns the key sequence to access the chat-db.\"\n  [& more-keys]\n  (into [:components-db :chat-db] more-keys))\n\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;;                Spec                ;;\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n(s/def ::chat-input-value string?)                                 ;; the current value of the input field\n(s/def ::chat-history (s/coll-of (s/keys :req-un [::user ::text])  ;; the chat history\n                                 :kind vector?))\n(s/def ::layout-modal-open? boolean?)                              ;; whether the prompt layout modal is open\n(s/def ::prompt-layout string?)                                    ;; the current prompt layout\n\n(s/def ::chat-db (s/keys :req-un [::chat-input-value               ;; the spec for the chat-db\n                                  ::chat-history\n                                  ::layout-modal-open?\n                                  ::prompt-layout]))\n\n(defn initial-db\n  \"Initial values for this branch of the app-db.\"\n  []\n  {:chat-input-value \"\"\n   :chat-history []\n   :prompt-layout \"\"\n   :layout-modal-open? false})\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;;           Rich Comments            ;;\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n(comment\n  ;; check if initial-db is valid\n  (s/valid? ::chat-db (initial-db)))\n"]}