{"version":3,"sources":["openllm/api/components.cljs"],"mappings":";AAIA;;;qCAAA,6CAAAA,lFAAMI;AAAN,AAAA,IAAAH,aAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;qBAAA,AAAAE,4CAAAF,eAAA,5EAEWI;aAFX,AAAAF,4CAAAF,eAAA,wDAAA,5HAE0BK;AAF1B,AAIE,IAAMC,cAAY,KAAAC;AAAlB,AACE,+DAAA,2CAAA,nGAACC,uLAEC,WAAKC;AAAL,AACE,oCAAA,7BAAmBH,oCACA,WAAKI;AAAL,AACE,IAAMC,UAAQ,AAAA,AAAID;AAAlB,AACE,8BAAA,vBAACE,0GAAaR,eAAeO;;GANxD,0DAQE;AAAA,AAAA,0FAAA,sDAAA,2CAAA,qDAAA,OAAA,+DAAA,PAEkBN,sEACI,WAAKK;AAAL,AACE,IAAMG,QAASH,DAAqB,CAAA,AAAA,iBAAA;AAApC,AACE,OAAaJ,uBAAYO","names":["p__28497","map__28501","cljs.core/--destructure-map","cljs.core.get","openllm.api.components/file-upload","callback-event","class","file-reader","js/FileReader","reagent.core.create_class","_","evt","content","re-frame.core/dispatch","file"],"sourcesContent":["(ns openllm.api.components\n  (:require [re-frame.core :as rf]\n            [reagent.core :as r]))\n\n(defn file-upload\n  \"The file upload reagent custom component.\"\n  [{:keys [callback-event class]\n    :or {class \"w-full mt-3 shadow-sm rounded-md focus:z-10 file:bg-transparent file:border-0 file:bg-gray-800 file:mr-4 file:py-2 file:px-4 bg-gray-600 text-white hover:bg-gray-700 file:text-white\"}}]\n  (let [file-reader (js/FileReader.)]\n    (r/create-class\n     {:component-did-mount\n      (fn [_]\n        (.addEventListener file-reader \"load\"\n                           (fn [evt]\n                             (let [content (-> evt .-target .-result)]\n                               (rf/dispatch [callback-event content])))))\n      :render\n      (fn []\n        [:input {:type \"file\"\n                 :class class\n                 :on-change (fn [evt]\n                              (let [file (-> evt .-target .-files (aget 0))]\n                                (.readAsText file-reader file)))}])})))\n"]}