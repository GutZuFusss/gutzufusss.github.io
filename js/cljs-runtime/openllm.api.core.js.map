{"version":3,"sources":["openllm/api/core.cljs"],"mappings":";AAIA;;;+BAAA,uCAAAA,tEAAMI;AAAN,AAAA,IAAAH,aAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;qBAAA,AAAAE,4CAAAF,eAAA,5EAEWI;aAFX,AAAAF,4CAAAF,eAAA,wDAAA,5HAE0BK;AAF1B,AAIE,IAAMC,cAAY,KAAAC;AAAlB,AACE,+DAAA,2CAAA,nGAACC,uLAEC,WAAKC;AAAL,AACE,oCAAA,7BAAmBH,oCACA,WAAKI;AAAL,AACE,IAAMC,UAAQ,AAAA,AAAID;AAAlB,AACE,8BAAA,vBAACE,0GAAaR,eAAeO;;GANxD,0DAQE;AAAA,AAAA,0FAAA,sDAAA,2CAAA,qDAAA,OAAA,+DAAA,PAEkBN,sEACI,WAAKK;AAAL,AACE,IAAMG,QAASH,DAAqB,CAAA,AAAA,iBAAA;AAApC,AACE,OAAaJ,uBAAYO","names":["p__38175","map__38176","cljs.core/--destructure-map","cljs.core.get","openllm.api.core/file-upload","callback-event","class","file-reader","js/FileReader","reagent.core.create_class","_","evt","content","re-frame.core/dispatch","file"],"sourcesContent":["(ns openllm.api.core\r\n  (:require [re-frame.core :as rf]\r\n            [reagent.core :as r]))\r\n\r\n(defn file-upload\r\n  \"The file upload reagent custom component.\"\r\n  [{:keys [callback-event class]\r\n    :or {class \"w-full mt-3 shadow-sm rounded-md focus:z-10 file:bg-transparent file:border-0 file:bg-blue-800 file:mr-4 file:py-2 file:px-4 bg-blue-600 text-white hover:bg-blue-700 file:text-white\"}}]\r\n  (let [file-reader (js/FileReader.)]\r\n    (r/create-class\r\n     {:component-did-mount\r\n      (fn [_]\r\n        (.addEventListener file-reader \"load\"\r\n                           (fn [evt]\r\n                             (let [content (-> evt .-target .-result)]\r\n                               (rf/dispatch [callback-event content])))))\r\n      :render\r\n      (fn []\r\n        [:input {:type \"file\"\r\n                 :class class\r\n                 :on-change (fn [evt]\r\n                              (let [file (-> evt .-target .-files (aget 0))]\r\n                                (.readAsText file-reader file)))}])})))\r\n"]}