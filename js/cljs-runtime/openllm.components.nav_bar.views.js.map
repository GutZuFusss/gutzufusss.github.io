{"version":3,"sources":["openllm/components/nav_bar/views.cljs"],"mappings":";AAmBA,kDAAA,lDAAKA;AAEL;;;;4DAAA,5DAAOC;AAAP,AAIE,IAAMC,gCAA8B,sDAAA,mFAAA,zIAACC;IAC/BC,gBAAc,sDAAA,mFAAA,zIAACD;AADrB,AAEE;AAAA,AAAA,+HAAA,2CAAA,sDAAA,AAAAE,uDAAA,gIAAA,2CAAA,6DAAA,raACGC,sJAAiBJ,0HAChBK;AAFJ,AAE4B,8BAAA,mFAAA,1GAACC;GAF7B,uDAAA,kBAAA,AAAAH,gBAIKD;;;AAET;;;;;wDAAA,xDAAOK;AAAP,AAKE,IAAMC,gBAAc,sDAAA,mFAAA,zIAACP;IACfQ,4BAAoB,sDAAA,mFAAA,zIAACR;IACrBS,sBAAoB,sDAAA,mFAAA,zIAACT;AAF3B,AAGE;AAAA,AAAA,0FAAA,iDAAA,wHAAA,2CAAA,sDAAA,AAAAE,6CAAA,gIAAA,2CAAA,6DAAA,3ZAEIC,sJAAiBM,gHAChBL;AAHL,AAG6B,8BAAA,mFAAA,1GAACC;GAH9B,qDAAA,QAAA,uDAAA,kBAAA,mFAMMK,8DACH,wMAAA,AAAA,wHAAA,2CAAA,sDAAA,6BAAA,gIAAA,2CAAA,6DAAA,pqBAAM,EAAK,6CAAA,AAAAR,+BAAA,5EAACS,6DAAGJ,0EAAqB,cAAA,AAAAL,dAACU,8BAAKJ,kHACvCL,sPACCC;AAFJ,AAE4B,AAAI,uBAAA,mFAAA,1GAACC;;AACD,8BAAA,mFAAA,1GAACA;GAHjC,qDAAA,QAAA,uDAAA,kBAAA,2JAAA,xEAMKQ;;;AAEZ;;;;;2CAAA,3CAAMC;AAAN,AAAA,0FAAA,mDAAA,2CAAA,wDAAA,wBAAA,wHAAA,2CAAA,8DAAA,SAAA,uDAAA,kBAAA,wHAAA,2CAAA,2DAAA,QAAA,uDAAA,2CAAA,yDAAA,uBAAA,mFAAA,3sBAMIC,mTAECC,2cAGC,6BAAA,AAAAd,ZAAMe,4BAAW,sDAAA,mFAAA,zIAACjB;AAAlB,AAAA,yHAAA,2CAAA,+KAAA,iEAAA,kBAAA,gHAAA,2CAAA,uDAAA,aAAA,kDAAA,iBAAA,6DAAA,3qBACGkB,gIAAa,gHAAA,IAAA,lHAAI,6CAAA,7CAACP,kGAAQM,2LAEzBE;AAHJ,AAKoB,mCAAA,mFAAA,uEAAA,tLAACC;mBALrB,gHAAA,2CAAA,uDAAA,OAAA,kDAAA,WAAA,6DAAA,hQAMID;AANJ,AAQoB,AAAI,4BAAA,mFAAA,uEAAA,tLAACC;;AACD,8BAAA,mFAAA,1GAACf;;aApB/B,mFAAA,mDAAA,2CAAA,wDAAA,+CAAA,mFAAA,mDAAA,2CAAA,wDAAA,gBAAA,gIAAA,2CAAA,6DAAA,rJAyBQD;AAzBR,AAyBgC,8BAAA,mFAAA,+GAAA,zNAACC;GAzBjC,uDAAA,YAAA,qDAAA,gBAAA,qIAAA,gIAAA,2CAAA,6DAAA,1RA4BSgB,qIACDjB;AA7BR,AA6BgC,8BAAA,mFAAA,+GAAA,zNAACC;GA7BjC,uDAAA,UAAA,qDAAA,gBAAA,0HAAA,mFAAA,yDAAA,2CAAA,iDAAA,KAAA,gDAAA,KAAA,+CAAA,KAAA,oDAAA,uBAAA,mFAAA,qDAAA,2CAAA,uIAAA,mFAAA,mDAAA,2CAAA,wDAAA,gBAAA,3/BAgCSiB,0qBAKWzB,oaAEZC","names":["openllm.components.nav-bar.views/discord-icon-d","openllm.components.nav-bar.views/collapse-side-bar-button","tooltip-text-collapse-sidebar","re_frame.core.subscribe","collapse-icon","cljs.core/deref","reagent-mui.material.tooltip/tooltip","reagent-mui.material.icon-button/icon-button","re-frame.core/dispatch","openllm.components.nav-bar.views/context-icon-buttons","active-screen","chat-history-empty?","tooltip-text-export","reagent-mui.icons.ios-share/ios-share","cljs.core._EQ_","cljs.core/not","reagent-mui.icons.delete-forever/delete-forever","openllm.components.nav-bar.views/nav-bar","reagent-mui.material.app-bar/app-bar","reagent-mui.material.toolbar/toolbar","screen-id","reagent-mui.material.tabs/tabs","reagent-mui.material.tab/tab","re-frame.core/dispatch-sync","reagent-mui.icons.git-hub/git-hub","reagent-mui.material.svg-icon/svg-icon"],"sourcesContent":["(ns openllm.components.nav-bar.views\n  (:require [re-frame.core :as rf]\n            [openllm.events :as root-events]\n            [openllm.components.nav-bar.subs :as subs]\n            [openllm.components.nav-bar.events :as events]\n            [openllm.components.side-bar.events :as side-bar-events]\n            [openllm.components.chat.events :as chat-events]\n            [openllm.api.persistence :as persistence]\n            [reagent-mui.material.app-bar :refer [app-bar]]\n            [reagent-mui.material.toolbar :refer [toolbar]]\n            [reagent-mui.material.icon-button :refer [icon-button]]\n            [reagent-mui.material.tooltip :refer [tooltip]]\n            [reagent-mui.material.svg-icon :refer [svg-icon]]\n            [reagent-mui.icons.delete-forever :as delete-icon]\n            [reagent-mui.icons.ios-share :as share-icon]\n            [reagent-mui.icons.git-hub :as github-icon]\n            [reagent-mui.material.tabs :refer [tabs]]\n            [reagent-mui.material.tab :refer [tab]]))\n\n(def discord-icon-d \"M19.27 5.33C17.94 4.71 16.5 4.26 15 4a.09.09 0 0 0-.07.03c-.18.33-.39.76-.53 1.09a16.09 16.09 0 0 0-4.8 0c-.14-.34-.35-.76-.54-1.09c-.01-.02-.04-.03-.07-.03c-1.5.26-2.93.71-4.27 1.33c-.01 0-.02.01-.03.02c-2.72 4.07-3.47 8.03-3.1 11.95c0 .02.01.04.03.05c1.8 1.32 3.53 2.12 5.24 2.65c.03.01.06 0 .07-.02c.4-.55.76-1.13 1.07-1.74c.02-.04 0-.08-.04-.09c-.57-.22-1.11-.48-1.64-.78c-.04-.02-.04-.08-.01-.11c.11-.08.22-.17.33-.25c.02-.02.05-.02.07-.01c3.44 1.57 7.15 1.57 10.55 0c.02-.01.05-.01.07.01c.11.09.22.17.33.26c.04.03.04.09-.01.11c-.52.31-1.07.56-1.64.78c-.04.01-.05.06-.04.09c.32.61.68 1.19 1.07 1.74c.03.01.06.02.09.01c1.72-.53 3.45-1.33 5.25-2.65c.02-.01.03-.03.03-.05c.44-4.53-.73-8.46-3.1-11.95c-.01-.01-.02-.02-.04-.02zM8.52 14.91c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.84 2.12-1.89 2.12zm6.97 0c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.83 2.12-1.89 2.12z\")\n\n(defn- collapse-side-bar-button\n  \"The collapse side bar button. It changes its icon depending on whether\n   the side bar is collapsed or not.\"\n  []\n  (let [tooltip-text-collapse-sidebar (rf/subscribe [::subs/tooltip-text-collapse-sidebar])\n        collapse-icon (rf/subscribe [::subs/collapse-icon])]\n    (fn []\n      [tooltip {:title @tooltip-text-collapse-sidebar}\n       [icon-button {:on-click #(rf/dispatch [::side-bar-events/toggle-side-bar])\n                     :color \"inherit\"}\n        @collapse-icon]])))\n\n(defn- context-icon-buttons\n  \"Displays the icon buttons on the very right of the navigation bar. Some\n   of them are only displayed conditionally (e.g. if a certain screen is\n   active).\"\n  []\n  (let [active-screen (rf/subscribe [:screen-id])\n        chat-history-empty? (rf/subscribe [::subs/chat-history-empty?])\n        tooltip-text-export (rf/subscribe [::subs/tooltip-text-export])]\n    (fn []\n      [:<> \n       [tooltip {:title @tooltip-text-export}\n        [icon-button {:on-click #(rf/dispatch [::events/export-button-clicked])\n                      :size \"large\"\n                      :color \"inherit\"}\n         [share-icon/ios-share]]]\n       (when (and (= @active-screen :chat) (not @chat-history-empty?))\n         [tooltip {:title \"Clear chat history\"}\n          [icon-button {:on-click #(do (rf/dispatch [::chat-events/clear-chat-history])\n                                       (rf/dispatch [::persistence/clear-chat-history]))\n                        :size \"large\"\n                        :color \"inherit\"}\n           [delete-icon/delete-forever]]])])))\n\n(defn nav-bar\n  \"Renders the navigation bar. The navigation bar is always visible and contains the\n   navigation buttons and the context dependent icon buttons. There are also small\n   buttons that will open socials in a new tab.\"\n  []\n  [:div {:class \"w-full static\"}\n   [app-bar {:position \"static\"\n             :color \"primary\"}\n    [toolbar {:variant \"dense\"\n              :style {:height \"48px\"}} \n     [:div\n      (let [screen-id @(rf/subscribe [:screen-id])]\n        [tabs {:value (if (= :chat screen-id) 1 0)\n               :text-color \"inherit\"}\n         [tab {:label \"Playground\"\n               :id \"playground-tab\"\n               :on-click #(rf/dispatch-sync [:set-screen-id :playground])}]\n         [tab {:label \"Chat\"\n               :id \"chat-tab\"\n               :on-click #(do (rf/dispatch-sync [:set-screen-id :chat])\n                              (rf/dispatch [::chat-events/auto-scroll]))}]])]\n     [:div {:class \"w-full flex justify-end items-center\"}\n      ;;[:div {:class \"mr-8\"}\n      ;; [context-icon-buttons]]\n      [:div {:class \"mr-16\"}\n       [icon-button {:on-click #(rf/dispatch [::root-events/open-link-in-new-tab \"https://github.com/bentoml/OpenLLM\"])\n                     :color \"secondary\"\n                     :size \"small\"}\n        [github-icon/git-hub]]\n       [icon-button {:on-click #(rf/dispatch [::root-events/open-link-in-new-tab \"https://l.bentoml.com/join-openllm-discord\"])\n                     :color \"primary\"\n                     :size \"small\"}\n        [svg-icon\n         [:circle {:cx 12\n                   :cy 12\n                   :r 12\n                   :fill \"#fff\"}]\n         [:path {:d discord-icon-d}]]]]\n      [:div {:class \"-mr-6\"}\n       [collapse-side-bar-button]]]]]])\n"]}