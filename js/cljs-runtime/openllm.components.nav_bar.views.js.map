{"version":3,"sources":["openllm/components/nav_bar/views.cljs"],"mappings":";AAoBA;;;;4DAAA,5DAAOA;AAAP,AAIE,IAAMC,gCAA8B,sDAAA,mFAAA,zIAACC;IAC/BC,gBAAc,sDAAA,mFAAA,zIAACD;AADrB,AAEE;AAAA,AAAA,+HAAA,2CAAA,sDAAA,AAAAE,uDAAA,gIAAA,2CAAA,6DAAA,raACGC,sJAAiBJ,0HAChBK;AAFJ,AAE4B,8BAAA,mFAAA,1GAACC;GAF7B,uDAAA,kBAAA,AAAAH,gBAIKD;;;AAET;;;;;wDAAA,xDAAOK;AAAP,AAKE,IAAMC,gBAAc,sDAAA,mFAAA,zIAACP;IACfQ,4BAAoB,sDAAA,mFAAA,zIAACR;IACrBS,sBAAoB,sDAAA,mFAAA,zIAACT;AAF3B,AAGE;AAAA,AAAA,0FAAA,iDAAA,wHAAA,2CAAA,sDAAA,AAAAE,6CAAA,gIAAA,2CAAA,6DAAA,3ZAEIC,sJAAiBM,gHAChBL;AAHL,AAG6B,8BAAA,mFAAA,1GAACC;GAH9B,qDAAA,QAAA,uDAAA,kBAAA,mFAMMK,8DACH,wMAAA,AAAA,wHAAA,2CAAA,sDAAA,6BAAA,gIAAA,2CAAA,6DAAA,pqBAAM,EAAK,6CAAA,AAAAR,+BAAA,5EAACS,6DAAGJ,0EAAqB,cAAA,AAAAL,dAACU,8BAAKJ,kHACvCL,sPACCC;AAFJ,AAE4B,AAAI,uBAAA,mFAAA,1GAACC;;AACD,8BAAA,mFAAA,1GAACA;GAHjC,qDAAA,QAAA,uDAAA,kBAAA,2JAAA,xEAMKQ;;;AAEZ;;;;;2CAAA,3CAAMC;AAAN,AAAA,0FAAA,mDAAA,2CAAA,wDAAA,wBAAA,wHAAA,2CAAA,8DAAA,SAAA,uDAAA,kBAAA,wHAAA,2CAAA,2DAAA,gBAAA,gIAAA,2CAAA,6DAAA,trBAMIC,mTAECC,8OACCZ;AATN,AAS8B,8BAAA,mFAAA,+GAAA,zNAACC;GAT/B,uDAAA,UAAA,qDAAA,gBAAA,qIAAA,mFAAA,mDAAA,2CAAA,wDAAA,gCAAA,sHAAA,2CAAA,6DAAA,zhBAYOY,8YAEAC;AAdP,AAc0B,8BAAA,mFAAA,uEAAA,jLAACb;GAd3B,uDAAA,UAAA,yPAAA,6BAAA,mFAAA,mDAAA,2CAAA,wDAAA,6CAAA,sHAAA,2CAAA,6DAAA,zsBAgB2B,sDAAA,tDAACc,yIAAcC,qbAEnCF;AAlBP,AAkB0B,AAAI,4BAAA,mFAAA,uEAAA,tLAACG;;AACD,8BAAA,mFAAA,1GAAChB;GAnB/B,uDAAA,UAAA,uPAAA,+BAAA,mFAAA,mDAAA,2CAAA,wDAAA,+CAAA,mFAAA,mDAAA,2CAAA,wDAAA,eAAA,yJAAA,mFAAA,mDAAA,2CAAA,wDAAA,gBAAA,vnCAqB2B,sDAAA,tDAACc,yIAAcG,+qBAGlChB,kZAEAR","names":["openllm.components.nav-bar.views/collapse-side-bar-button","tooltip-text-collapse-sidebar","re_frame.core.subscribe","collapse-icon","cljs.core/deref","reagent-mui.material.tooltip/tooltip","reagent-mui.material.icon-button/icon-button","re-frame.core/dispatch","openllm.components.nav-bar.views/context-icon-buttons","active-screen","chat-history-empty?","tooltip-text-export","reagent-mui.icons.ios-share/ios-share","cljs.core._EQ_","cljs.core/not","reagent-mui.icons.delete-forever/delete-forever","openllm.components.nav-bar.views/nav-bar","reagent-mui.material.app-bar/app-bar","reagent-mui.material.toolbar/toolbar","reagent-mui.icons.git-hub/git-hub","reagent-mui.material.button/button","reagent.core.as_element","reagent-mui.icons.brush/brush","re-frame.core/dispatch-sync","reagent-mui.icons.chat/chat"],"sourcesContent":["(ns openllm.components.nav-bar.views\n  (:require [re-frame.core :as rf]\n            [openllm.events :as root-events]\n            [openllm.components.nav-bar.subs :as subs]\n            [openllm.components.nav-bar.events :as events]\n            [openllm.components.side-bar.events :as side-bar-events]\n            [openllm.components.chat.events :as chat-events]\n            [openllm.api.persistence :as persistence]\n            [reagent-mui.icons.chat :as chat-icon]\n            [reagent-mui.icons.brush :as brush-icon]\n            [reagent-mui.material.app-bar :refer [app-bar]]\n            [reagent-mui.material.toolbar :refer [toolbar]]\n            [reagent-mui.material.button :refer [button]]\n            [reagent-mui.material.icon-button :refer [icon-button]]\n            [reagent-mui.material.tooltip :refer [tooltip]]\n            [reagent-mui.icons.delete-forever :as delete-icon]\n            [reagent-mui.icons.ios-share :as share-icon]\n            [reagent-mui.icons.git-hub :as github-icon]\n            [reagent.core :as r]))\n\n(defn- collapse-side-bar-button\n  \"The collapse side bar button. It changes its icon depending on whether\n   the side bar is collapsed or not.\"\n  []\n  (let [tooltip-text-collapse-sidebar (rf/subscribe [::subs/tooltip-text-collapse-sidebar])\n        collapse-icon (rf/subscribe [::subs/collapse-icon])]\n    (fn []\n      [tooltip {:title @tooltip-text-collapse-sidebar}\n       [icon-button {:on-click #(rf/dispatch [::side-bar-events/toggle-side-bar])\n                     :color \"inherit\"}\n        @collapse-icon]])))\n\n(defn- context-icon-buttons\n  \"Displays the icon buttons on the very right of the navigation bar. Some\n   of them are only displayed conditionally (e.g. if a certain screen is\n   active).\"\n  []\n  (let [active-screen (rf/subscribe [:screen-id])\n        chat-history-empty? (rf/subscribe [::subs/chat-history-empty?])\n        tooltip-text-export (rf/subscribe [::subs/tooltip-text-export])]\n    (fn []\n      [:<> \n       [tooltip {:title @tooltip-text-export}\n        [icon-button {:on-click #(rf/dispatch [::events/export-button-clicked])\n                      :size \"large\"\n                      :color \"inherit\"}\n         [share-icon/ios-share]]]\n       (when (and (= @active-screen :chat) (not @chat-history-empty?))\n         [tooltip {:title \"Clear chat history\"}\n          [icon-button {:on-click #(do (rf/dispatch [::chat-events/clear-chat-history])\n                                       (rf/dispatch [::persistence/clear-chat-history]))\n                        :size \"large\"\n                        :color \"inherit\"}\n           [delete-icon/delete-forever]]])])))\n\n(defn nav-bar\n  \"Renders the navigation bar. The navigation bar is always visible and contains the\n   navigation buttons and the context dependent icon buttons. There are also small\n   buttons that will open socials in a new tab.\"\n  []\n  [:div {:class \"w-full static\"}\n   [app-bar {:position \"static\"\n             :color \"primary\"}\n    [toolbar {:variant \"dense\"}\n     [icon-button {:on-click #(rf/dispatch [::root-events/open-link-in-new-tab \"https://github.com/bentoml/OpenLLM\"])\n                   :color \"inherit\"\n                   :size \"small\"}\n      [github-icon/git-hub]]\n     [:div {:class \"ml-[calc(50%-_180px)]\"}\n      [button {:on-click #(rf/dispatch [:set-screen-id :playground])\n               :color \"inherit\"\n               :start-icon (r/as-element [brush-icon/brush])} \"Playground\"]]\n     [:div {:class \"ml-3 pl-3 border-l border-gray-800\"}\n      [button {:on-click #(do (rf/dispatch-sync [:set-screen-id :chat])\n                              (rf/dispatch [::chat-events/auto-scroll]))\n               :color \"inherit\"\n               :start-icon (r/as-element [chat-icon/chat])} \"Conversation\"]]\n     [:div {:class \"w-full flex justify-end items-center\"}\n      [:div {:class \"mr-8\"}\n       [context-icon-buttons]]\n      [:div {:class \"-mr-8\"}\n       [collapse-side-bar-button]]]]]])\n"]}