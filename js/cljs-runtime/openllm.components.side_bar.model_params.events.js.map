{"version":3,"sources":["openllm/components/side_bar/model_params/events.cljs"],"mappings":";AAMA,yDAAA,8LAAA,vPAACA,0UAECC,8CACD,cAAAC,HAAKG;AAAL,AAAA,IAAAF,aAAAD;QAAA,AAAAE,4CAAAD,WAAA,IAAA,/DAASG;gBAAT,AAAAF,4CAAAD,WAAA,IAAA,vEAAWI;YAAX,AAAAH,4CAAAD,WAAA,IAAA,nEAAqBK;AAArB,AACE,IAAMC,YAAU,+GAAA,6FAAA,5MAACC,+CAAOC,mJAAwBJ;IAC1CC,YAAM,iBAAAI,mBAAIJ;AAAJ,AAAA,oBAAAI;AAAAA;;AAAA;;;IACNC,eAAa,EAAI,AAACC,6CAAEL,UAAUM,yBACf,AAACC,uBAAaR,WACd,EAAI,EAAK,AAACM,6CAAEL,UAAUQ,2BAAM,GAAK,AAACA,qBAAKT,gBACrC,AAACU,qBAAWV,WACZA;AANvB,AAOE,OAACW,mBAASd,GAAG,AAACe,2IAAWb,gBAAWM","names":["re_frame.core.reg_event_db","openllm.events/check-spec-interceptor","p__31131","vec__31132","cljs.core.nth","db","_","parameter","value","type-pred","cljs.core.get_in","openllm.components.side-bar.model-params.db/parameter-meta-data","or__5045__auto__","parsed-value","cljs.core._EQ_","cljs.core/float?","cljs.core/parse-double","cljs.core/int?","cljs.core/parse-long","cljs.core/assoc-in","openllm.components.side_bar.model_params.db.key_seq"],"sourcesContent":["(ns openllm.components.side-bar.model-params.events\n  (:require [openllm.components.side-bar.model-params.db :as db]\n            [re-frame.core :refer [reg-event-db]]\n            [openllm.events :refer [check-spec-interceptor]]))\n\n;; will receive the value as string\n(reg-event-db\n ::set-model-config-parameter\n [check-spec-interceptor]\n (fn [db [_ parameter value]]\n   (let [type-pred (get-in db/parameter-meta-data [parameter :type-pred]) \n         value (or value 0)\n         parsed-value (if (= type-pred float?)\n                        (parse-double value)\n                        (if (and (= type-pred int?) (not (int? value)))\n                          (parse-long value)\n                          value))]\n     (assoc-in db (db/key-seq parameter) parsed-value))))\n"]}